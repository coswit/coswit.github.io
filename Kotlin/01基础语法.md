## 类型

### Variables

val：不可变类型

```kotlin
val answer = 42
val answer: Int = 42
val name = if(args.size>0) args[0] else "Kotlin"
```

var:可变类型

```kotlin
var language = arrayListOf("java")
```

## 类

在java中的类：
```java
public class Person {
    private final String name;

    public Person(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }
}    
```

转变为Kotlin的类，在Kotlin中pulic是默认的，可以省略：

```kotlin
class Person(val name: String)
```

### 枚举类

```kotlin
enum class Color(val r: Int, val g: Int, val b: Int) {
    RED(255, 0, 0),
    ORANGE(255, 165, 0),
    YELLOW(255, 255, 0);

    fun rgb() = (r * 256 + g) * 256 + b
}
```

## 流程控制

### when

```kotlin
fun getMnemonic(color: Color) = when (color) {
    Color.RED -> "Richard"
    // 可以在一个分支上合并多个选项
    Color.ORANGE，Color.YELLOW -> "warm"
}
 println(getMnemonic(Color.YELLOW))	
```

不同于Java的Switch，when允许使用任何对像：

```kotlin
fun mix(c1: Color, c2: Color) =
        when (setOf(c1, c2)) {
            setOf(Color.RED, Color.YELLOW) -> Color.ORANGE
            setOf(Color.YELLOW,Color.BLUE) -> Color.BLUE
            setOf(Color.VIOLET,Color.BLUE) -> Color.INDIGO
            else -> throw Exception("Dirty Color")
        }
```

可以进一步简化为不带参数， 不需要创建新的对像：

```kotlin
fun mixOptimized(c1: Color, c2: Color) =
        when {
            (c1 == RED && c2 == YELLOW) || 
                    (c1 == YELLOW && c2 == RED) -> ORANGE
            else -> throw Exception("Dirty Color")
        }
```

可以代替if，示例：

```kotlin
// 类定义
interface Expr
class Num(val value: Int) : Expr
class Sum(val left: Expr, val right: Expr) : Expr

// 使用
fun eval(e: Expr): Int =
        when (e) {
            is Num -> e.value
            is Sum -> eval(e.right) + eval(e.left)
            else -> throw IllegalArgumentException("unknown expression")
        }
```

## 函数

