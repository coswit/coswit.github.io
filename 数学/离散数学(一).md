## 数理逻辑

用数学的方式研究形式逻辑，研究关于推理、证明等问题的学科，数理逻辑包括命题逻辑和谓词逻辑。

### 发展

- 萌芽：**莱布尼茨(Leibniz)**最初设想，设想创造一种**通用的科学语言**，可以把推理过程像数学一样利用公式来计算。

- 英国数学家**布尔G.Boole**《逻辑的数学分析》，建立了布尔代数，通过符号来表示逻辑中的各种概念
- 德国数学家**弗雷格Frege** 《数论的基础》，在书中引入量词的符号，使得数理逻辑的符号系统更加完备。美国人**皮尔斯Peirce**，也在著作中引入了 更多逻辑符号。  从而使现代数理逻辑最基本的理论基础逐步 形成，成为一门独立的学科。

### 排中律

Law of Excluded Middle，逻辑传统逻辑的基本规律

- 辩也者，或谓之是，或谓之非，当者胜也——《经说下》
- 是非之间，必居其一
-   任一事物在同一时间里具有某属性或者不具 有某种属性，而无其它可能
- 反证法就是利用了排中律

## 命题逻辑

命题(proposition)：具有确切真值的陈述句，能判断真假的陈述句。

命题包含简单命题(原子命题)和复合命题。

### 命题联结词

- 否定(negation / not)  $\neg$

- 合取(conjunction / and)  $\land$ 
- 析取(disjunction / or ) $\lor$
- 蕴涵( implication / if...then..) $\to$

- 等价(equivalence / two-way implication /if and only if ) $\leftrightarrow$

#### 优先级

顺序：否定，合取，析取，蕴涵，等价

位运算

>  计算机中的信息采用二进制的方式来表达。每个二进制位只能是 1 或 0，可对应于某一 个布尔变量的真值。当我们需要判断该布尔变量的真值时，就可以利用按位与(bitwise AND)或按位或(bitwise OR)以及按位取反(bitwise NOT)等来操作。

#### 衍生联结词

- 或非(NOR):析取的取反$\downarrow$，Peirce记号，p$\downarrow$ q = $\neg$(p$\lor$q)
- 与非(Not AND 、NAND):Sheffer stroke谢费尔竖线，| 或 $\uparrow$  合取运算的否定，p$\uparrow$ q = $\neg$(p$\land$q)

|  p   |  q   | $\neg$p | p $\land$ q | p$\lor$q | p$\to$q | p$\leftrightarrow$q | p$\downarrow$q | p$\uparrow$ q |
| :--: | :--: | :-----: | :---------: | :------: | :-----: | :-----------------: | :------------: | :-----------: |
|  0   |  0   |    1    |      0      |    0     |    1    |          1          |       1        |       1       |
|  0   |  1   |    1    |      0      |    1     |    1    |          0          |       0        |       1       |
|  1   |  0   |    0    |      0      |    1     |    0    |          0          |       0        |       1       |
|  1   |  1   |    0    |      1      |    1     |    1    |          1          |       0        |       0       |

### 命题公式

#### 组成成分

- 命题常元(propositionconstants) 表示具体命题及表示常命题的p, q, r, s 等和t,f

- 命题变元(propositionvariables) 以真，假或者1，0为取值范围的 变量，仍用p, q, r, s等表示

- **命题公式(propositionformula)** 由命题常元、变元和联结词组成的形式更为复杂的命题

#### 分类

- 重言式:(永真式)tautology

- 矛盾式contradiction：永假式、不可满足式

- 可满足式(contingency) 命题公式至少有一个成真赋值

#### 逻辑等价式(logical equivalent)

当命题公式A↔B是重言式时，则称A逻辑等价于B，记作A  $\eqcirc$  B，或A⇔B，称作逻辑等价式，也可以理解为公式A和公式B等值，逻辑等价体现了两个公式之间的一种关系:在任何赋值状况下它们都等值

- 双重否定律: ¬¬A  $\eqcirc$  A   ¬¬*A*⇔A
- 幂等律:A∨A  $\eqcirc$  A，A∧A  $\eqcirc$  A
- 交换律:A∨B  $\eqcirc$  B∨A， A∧B  $\eqcirc$  B∧A
- 结合律:(A∨B)∨C  $\eqcirc$  A∨(B∨C)，(A∧B)∧C  $\eqcirc$  A∧(B∧C)
- 分配律:A∧(B∨C)  $\eqcirc$  (A∧B)∨(A∧C)，A∨(B∧C)  $\eqcirc$  (A∨B)∧(A∨C)
- 德摩根律:¬(A∨B)  $\eqcirc$  ¬A∧¬B， ¬(A∧B)  $\eqcirc$  ¬A∨¬B
- 吸收律:A∨(A∧B)  $\eqcirc$  A， A∧(A∨B)  $\eqcirc$  A
- **蕴涵**:A→B  $\eqcirc$  ¬A∨B
- 等价等值式:A↔B  $\eqcirc$  (A→B)∧(B→A)
- 零律:A∨t  $\eqcirc$  t，A∧f  $\eqcirc$  f
- 同一律:A∨f  $\eqcirc$  A，A∧t  $\eqcirc$  A
- 排中律和矛盾律:A∨¬A  $\eqcirc$  t， A∧¬A  $\eqcirc$  f
- ¬t  $\eqcirc$  f，¬f  $\eqcirc$  t
- A∧B→C  $\eqcirc$  A→(B→C)
- 假言易位:A→B  $\eqcirc$  ¬B→¬A
- 归谬论:(A→B)∧(A→¬B)  $\eqcirc$  ¬A
- 穷举推理:(A∨B)∧(A→C)∧(B→C) $\eqcirc$ C
- 等价等值式2:A↔B  $\eqcirc$  (A∧B)∨(¬A∧¬B)

判断命题逻辑等价的方法：

- 真值表相同
- 命题公式演算

等值演算

- 重言式的代入原理(rule of substitution)

- 命题公式的替换原理(rule of replacement)

### 范式

同一个命题公式会存在很多逻辑等价的公式，范式是这些逻辑等价式中较为符合某种**标准**和**规范**形式的。

>  **文字(literals)**:组成命题的最小单元，命题常元、变元和它们的否定。如：正文字(p)，负文字(¬q)，t(命题常元,也是正文字)
**析取子句(disjunctive clauses)**:文字或者若干文字的析取， 如:p, p∨q, ¬p∨q
**合取子句(conjunctiveclauses)**:文字或者若干文字的合取， 如:p, p∧q, ¬p∧q
**互补文字对(complemental pairs of literals)**:指一对正文字和 负文字，如:p和¬p

#### 析取范式(disjunctive normal form)

公式A'称作公式A的析取范式，如果:

- $A'\eqcirc A$($A'$逻辑等价A)

-  $A'$为合取子句或者若干合取子句的析取

   如：p→q的析取范式为¬p∨q(合取子句¬p 和q的析取)

#### 合取范式(conjunctive normal form)

公式$A'$称作公式A的合取范式，如果:

-  $ A' \eqcirc A $

-  $ A' $为析取子句或者若干析取子句的合取

  如: p→q的合取范式为¬ p∨q(析取子句 ¬p∨q) 

#### 主范式

1. **主析取范式(major disjunctive form)**:
   公式$ A' $称作公式$ A(p_1,p_2,...p_n) $的主析取范式，如果: 
   
   - $  A' $是A的析取范式
   - $ A' $中每一个合取子句里$ p_1,p_2,...p_n $均恰出现一次
   
   **极小项(min item)**:
   
   - 合取子句中的文字按照其包含的变元下标从小到大排列，对于包含所有变元$p_1,p_2,...p_n$的并排列好文字顺序的合取子句，我们称为极小项(min term)，记作$m_i$
   - 如果该位是0，表示合取子句中的该位是一个负文字，否则是正文字
   - 如：$p_1∧p_2∧p_3$记作$m_7$(7=111);$p_1∧¬p_2∧¬p_3$记作$m_4$(4=100)
   - 主析取范式是极小项按照其下标从小到大排列的析取
   - 极小项只有唯一的**成真赋值**
   - 极小项的数量为$N=2^n$;由极小项组合成的主析取范式的数量为$2^N$
   
2. **主合取范式(major conjunctive form)**
    公式$A'$称作公式A($p_1,p_2,...p_n$)的主合取范式，如果: 
    
    - $A'$是A的合取范式
    - $A'$中每一个合取子句里$p_1,p_2,...p_n$均恰出现一次
    
    **极大项和成假赋值**
#### 主范式的存在及唯一性

例：求$p∧q∨r$的主析取范式和主合取范式

|  p   |  q   |  r   | $p∧q$ | $p∧q∨r$ |
| :--: | :--: | :--: | :---: | :-----: |
|  0   |  0   |  0   |   0   |    0    |
|  0   |  0   |  1   |   0   |    1    |
|  0   |  1   |  0   |   0   |    0    |
|  0   |  1   |  1   |   0   |    1    |
|  1   |  0   |  0   |   0   |    0    |
|  1   |  0   |  1   |   0   |    1    |
|  1   |  1   |  0   |   1   |    1    |
|  1   |  1   |  1   |   1   |    1    |

主析取范式： $p∧q∨r \iff  m_1∨m_3∨m_5∨m_6∨m_7$

主合取范式： $p∧q∨r \iff  M_0∧M_2∧M_4$

### 逻辑联结词的完备性

#### 定义

设S是一个联结词集合，如果任一真值函数都可以用仅含S中的联结词的命题公式表示，则称S为**功能完备集**或**全功能集**。

{$¬,∧,∨$}$、${$¬,∨$}、{$¬,∧$}、 {$¬,→$}都具有功能完备性。

{$\downarrow$} 和 {$\uparrow$ } 具有功能完备性。

#### 或非 $\downarrow$

p$\downarrow$ q = $\neg$(p$\lor$q)

转换表示：


$$
\neg p = \neg (p \lor p ) = p \downarrow p
$$



$$
p \lor q = \neg \neg (p\lor q) = \neg (p \downarrow q) = (p \downarrow q)\downarrow(p \downarrow q)
$$


$$
p \land q = \neg \neg (p \land q) = \neg (\neg p \lor \neg q) = \neg p \downarrow \neg q = (p \downarrow p)\downarrow (q \downarrow q)
$$

$$
p \rightarrow q = \neg p \lor q
$$

#### 与非$\uparrow$

p$\uparrow$ q = $\neg$(p$\land$q)

转换表示：
$$
\neg p  = \neg (p \land p)  = p \uparrow p
$$

$$
  p \lor q = \neg \neg (p \lor q)  = \neg (\neg p \land \neg q) = \neg p \uparrow \neg q  = (p  \uparrow q) \uparrow (q  \uparrow q)
$$

$$
  p \land q  = \neg \neg (p \land q) = \neg (p \uparrow q) = ((p \uparrow q)\uparrow (p \uparrow q)
$$

$$
  p \rightarrow q = \neg p \lor q = \neg \neg (\neg p \lor q ) = \neg(p \land \neg q) = p \uparrow \neg q = p \uparrow (q \uparrow q)
$$



## 谓词逻辑

命题逻辑中的推理，关注**真值**的推演， 建立在重言式、代入和替换原理基础上，且命题逻辑中，命题之间相互独立，没有内在联系。
命题甚至无法处理一些简单常见的推理，例如在经典的三段论推理中，命题逻辑有些力不从心。从而需要引入谓词逻辑。

在对命题的分析中发现，主要包含三个部分：个体、量词、谓词。

谓词逻辑也称作**一阶逻辑**(First Order Logic)，一阶逻辑中引入了个体词、谓词、量词

### 个体词(individual)

- 谓词逻辑中将一切被讨论的对象都称作个体，可以是具体的事物，也可以是抽象的概念。

-  具体或特定的个体称作**个体常量**(constants)或**个体常项**，常用a,b,c,··· ,a1,b1,c1,···表示。

-  不确定的、抽象的、泛指的个体称作**个体变量**(variables)或**个体变项**，常用x,y,z,··· ,x1,y1,z1,···表示。

- 个体词的取值范围称为**个体域**(domain of individuals)或**论域**， 常用D表示。一般无特殊声明时，个体域由宇宙间一切事物组成，称为**全总个体域**(universe)，记做U。


### 谓词(predicate)

设 D 为非空的个体域，定义在$D^n$(表示 n 个个体都在个体域 D 上取值) 上取值于{0,1}上的 n 元 函数，称为 **n 元命题函数**或 **n 元谓词**，记为$P(x_1, x_2, · · · , x_n)$。其中，个体变量$x_1, x_2, · · · , x_n ∈ D$

- 表示个体词的性质或个体词之间的关系的词。
- 表示具体性质或关系的谓词称为**谓词常量**或**谓词常项**。
- 表示抽象的或泛指的性质或关系的谓词称为**谓词变量**或**谓词变项**。
- 谓词均使用大写英文字母 P,Q,R,···,F,G,H,··· 来表示。
-  谓词中包含个体词数称为**元数**，含$n(n \geqslant 1)$ 个个体词的谓词称为**n 元谓词**，一元谓词表示个体词性质，当$ n \geqslant 2$时，n元谓词表示个体词之间的关系。

### 量词(quantifiers)

全称量词(universalquantifier):   $\forall$

存在量词(existentialquantifier):   $\exists$

例子：

1. 确诊者并不都有症状

   F(x):x是确诊者，G(x):x有症状

   $\exists x F(x) \land \neg G(x)$

   $\neg \forall x (F(x) \rightarrow G(x)) $

2. 有些老人不喜欢宠物

   F(x):x是老人，G(x):x是宠物，L(x,y):x喜欢y

   $ \exists x ( F(x) \land  \forall y( G(y) \rightarrow \neg L(x,y)) ) $

3. 所有的人都不一样高

   M(x):x是人，$H(x,y):x\not= y $(x与y不是同一个人)，L(x,y):x与y一样高

   $\forall x \forall y (M(x) \land M(y)  \land H(x,y) \rightarrow \neg L(x,y))$

   $\neg \exists x \exists y (M(x) \land M(y) \land H(x,y) \land L(x,y) )$

#### 规律

- 量词转换率：$\neg (\exists x)P \iff  (\forall x) \neg P $ 

- 量词分配率：$(\exists x) (P \land Q ) \iff (\forall x) P \land (\forall x)Q $

  $(\exists x) (P \lor Q) \iff (\exists x)P \lor (\exists x)Q $

### 范式

- 前束范式：量词在谓词公式的前面

- Skolem范式：以前束范式中消去全部存在量词所得到的公式即为斯柯林(Skolem)标准范式。存在量词在全称量词前。

  > 如果存在量词在全称量词的辖域内，如公式，变量x的取值依赖于变量y的取值，令这种依赖关系由函数来表示，它把每个y值映像到存在的那个x，这个函数称为斯柯林(Skolem)函数

### 置换与合一

#### 置换

在一个谓词公式中，用置换项去替换变量。置换是形如${t_1/x_1,t_2/x_2,...,t_n/x_n}$的有限集合，其中$x_i$不能循环地出现在在另一个$t_i$中

如：P[x,f(y),B]的置换项为$s_1$={z/x,w/y},置换后为：P[x,f(y),B] $s_1$ = P[z,f(w),B]

#### 合一Unification

寻找项对变量的置换，使两个公式一致。



